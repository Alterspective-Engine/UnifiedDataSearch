<!-- Alternative HTML template that uses ShareDo core component -->
<div class="Alt-UnifiedDataSearch-Widgets-UnifiedOdsEntityPicker sharedo-component-mode">
    
    <!-- Use ShareDo Core OdsEntityPicker Component -->
    <!-- ko if: options.useShareDoComponent && shareDoComponentConfig -->
    <!-- ko component: { 
        name: "sharedo-core-case-ods-entity-picker", 
        params: shareDoComponentConfig 
    } -->
    <!-- /ko -->
    <!-- /ko -->
    
    <!-- Fallback to custom UI if ShareDo component not available -->
    <!-- ko ifnot: options.useShareDoComponent -->
    
    <!-- Standard ShareDo Widget Layout with Bootstrap Grid -->
    <div class="form-group">
        
        <!-- Left-side Label (ShareDo style) -->
        <!-- ko if: options.label && !options.hideLabel -->
        <label class="col-sm-3 control-label">
            <span data-bind="text: options.label"></span>
            <!-- ko if: options.required -->
            <span class="required-indicator text-danger">*</span>
            <!-- /ko -->
        </label>
        <!-- /ko -->
        
        <!-- Main Content Area -->
        <div data-bind="css: options.hideLabel ? 'col-sm-12' : 'col-sm-9'">
            
            <!-- When no entity is selected -->
            <!-- ko if: !hasValue() -->
            <div class="empty-state">
                <div class="search-button-container">
                    <button type="button" 
                            class="btn btn-outline-primary search-entity-btn"
                            data-bind="click: openUnifiedSearchBlade,
                                       enable: _host.enabled !== false">
                        <i class="fa fa-search"></i>
                        <span data-bind="text: options.searchButtonText || 'Search ODS & PMS'"></span>
                    </button>
                </div>
            </div>
            <!-- /ko -->
            
            <!-- Single Entity Selected -->
            <!-- ko if: !options.allowMultiple && hasValue() -->
            <div class="selected-entity-card">
                <div class="entity-card-content">
                    <i class="entity-icon" data-bind="css: getEntityIcon(selectedEntity())"></i>
                    <span class="entity-name" data-bind="text: getEntityDisplayName(selectedEntity())"></span>
                    
                    <!-- ko if: options.showEmail && selectedEntity().email -->
                    <span class="detail-item">
                        <i class="fa fa-envelope"></i>
                        <span data-bind="text: selectedEntity().email"></span>
                    </span>
                    <!-- /ko -->
                    
                    <div class="entity-actions">
                        <button type="button" 
                                class="btn btn-sm btn-link"
                                data-bind="click: openUnifiedSearchBlade,
                                           enable: _host.enabled !== false"
                                title="Change">
                            <i class="fa fa-search"></i>
                        </button>
                        
                        <!-- ko if: options.allowClear && !options.required -->
                        <button type="button" 
                                class="btn btn-sm btn-link text-danger"
                                data-bind="click: clearSelection,
                                           enable: _host.enabled !== false"
                                title="Remove">
                            <i class="fa fa-times"></i>
                        </button>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- /ko -->
            
            <!-- Validation Message -->
            <!-- ko if: !isValid() && options.required -->
            <div class="validation-message text-danger">
                <small>
                    <i class="fa fa-exclamation-circle"></i>
                    <span data-bind="text: options.requiredMessage || 'This field is required'"></span>
                </small>
            </div>
            <!-- /ko -->
            
        </div>
    </div>
    
    <!-- /ko -->
    
</div>
